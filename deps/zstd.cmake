set(ZSTD_BUILD_STATIC ON)
set(ZSTD_BUILD_SHARED OFF)
set(ZSTD_BUILD_DICTBUILDER OFF)
set(ZSTD_BUILD_PROGRAMS OFF)
set(ZSTD_BUILD_CONTRIB OFF)
set(ZSTD_BUILD_TESTS OFF)

if(MINGW)
  set(ZSTD_MULTITHREAD_SUPPORT OFF)
endif()

add_compile_definitions(
    ZSTD_STRIP_ERROR_STRINGS
    ZSTD_NO_UNUSED_FUNCTIONS
)

set(CMAKE_POLICY_DEFAULT_CMP0077 NEW)

add_subdirectory(zstd/build/cmake zstd)
